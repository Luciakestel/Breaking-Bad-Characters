{"version":3,"sources":["01-const.js","02-initial.js","03-functions.js","04-events.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnIA;AACA;AACA;AACA;ACHA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n\nconst charactersList = document.querySelector('.js_character_list');\nconst favouriteList = document.querySelector('.js_favourite_list');\nconst btn = document.querySelector('.js_btn');\nconst input = document.querySelector('.js_input');\nconst btnFav = document.querySelector('.js_fav_btn');\nconst heartFav = document.querySelector('.js_heart_fav');\nconst sectionFav = document.querySelector('.js_section_fav');\nconst sectionCharacters = document.querySelector('.js_section_characters');\nconst paintCharact = document.querySelector('.js_characters');\n\n","let characters = [];\nlet favCharacters = [];\nfetchCharacters();","\nfunction fetchCharacters(){\n    fetch('./assets/data/characters.json')\n    .then(response => response.json())\n    .then(dataResults =>{\n        characters = dataResults;\n        renderFavSaved();\n        renderCharacters();\n    });\n}\n    \nfunction renderFavSaved(){\n  const favCharacterSave = JSON.parse(localStorage.getItem('Favourite list'));\n  if (favCharacterSave !== null){\n    favCharacters = favCharacterSave;\n    renderFavCharacters();\n  }\n}\n    \nfunction renderCharacters(){\n    let html = '';\n    for (const character of characters) {\n        const characterFavIndex = favCharacters.findIndex((eachCharacterObj) => eachCharacterObj.char_id === character.char_id);\n        let classFav = '';  \n        if (characterFavIndex === -1){\n            classFav = '';\n        } else {\n            classFav = 'selected';\n        }\n        html += `<li >\n        <article class=\"js_list_element article ${classFav}\" id='${character.char_id}'>\n            <h3 class=\"article_title\">${character.name}</h3>\n            <img src=\"${character.img}\" alt=\"Foto del personaje\" class=\"article_img\">\n            <p class=\"article_status\">${character.status}</p>\n        </article>\n        </li>`;\n    }\n    charactersList.innerHTML = html;\n        \n    const listElement = document.querySelectorAll('.js_list_element');\n    \n    for (const character of listElement) {\n        character.addEventListener(('click'), handleClickCharacter);\n    }\n}\n    \nfunction handleClickCharacter(event){\n    event.currentTarget.classList.toggle('selected');\n    const selectedCharacter = characters.find((eachCharacterObj) => eachCharacterObj.char_id === parseInt(event.currentTarget.id));\n        \n    const characterFav = favCharacters.findIndex((eachCharacterObj) => eachCharacterObj.char_id === parseInt(event.currentTarget.id));\n    if(characterFav === -1){\n        favCharacters.push(selectedCharacter);\n    } else {\n        favCharacters.splice(characterFav, 1);\n    }\n        \n    renderFavCharacters();\n}\n    \nfunction searchCharacters(event){\n    event.preventDefault();\n    const searchValue = input.value;\n    fetch(`https://breakingbadapi.com/api/characters?name=${searchValue}`)\n    .then(response => response.json())\n    .then(dataResults =>{\n        characters = dataResults;\n        renderCharacters();\n    });\n}\n    \nfunction renderFavCharacters(){\n    sectionFav.classList.remove('collapse');\n    let html = '';\n    for (const favCharacter of favCharacters) {\n    html += `<li>\n    <article class=\"article_fav selected\" id='${favCharacter.char_id}'>\n        <div class=\"article_fav_box\">  \n        <h3 class=\"article_fav_title\">${favCharacter.name}</h3>\n        <div class=\"article_fav_close js_close\" id='${favCharacter.char_id}'></div>\n        </div>\n        <img src=\"${favCharacter.img}\" alt=\"Foto del personaje\" class=\"article_fav_img\"> \n        <p class=\"article_fav_status\">${favCharacter.status}</p>\n    </article>\n    </li>`;\n    }\n    favouriteList.innerHTML = html;\n    localStorage.setItem('Favourite list', JSON.stringify(favCharacters));\n        \n    const btncloseFav = document.querySelectorAll('.js_close');\n    for (const buttonFav of btncloseFav) {\n    buttonFav.addEventListener(('click'), closeFav);\n    }\n}\n    \nfunction closeFav(event){\n    event.preventDefault();\n    const closeFavCharacterIndex = favCharacters.findIndex((eachCloseObj) => eachCloseObj.char_id === parseInt(event.currentTarget.id));\n    if (closeFavCharacterIndex !== -1) {\n    favCharacters.splice(closeFavCharacterIndex, 1);\n    }\n    renderCharacters();\n    renderFavCharacters();\n    if (favCharacters.length === 0){\n        sectionFav.classList.add('collapse');\n    }\n}\n      \nfunction resetFavs(event){\n    event.preventDefault();\n    let html = '';\n    favouriteList.innerHTML = html;\n    favCharacters = [];\n    localStorage.removeItem('Favourite list');\n    renderCharacters();\n    sectionFav.classList.add('collapse');\n}\n    \nfunction handleClickHeart(){\n    if (sectionFav.classList.contains('collapse')){\n        sectionFav.classList.remove('collapse');\n        sectionCharacters.classList.add('collapse');\n    } else {\n        sectionFav.classList.add('collapse');\n        sectionCharacters.classList.remove('collapse');\n    }\n}\n    \nfunction renderCharactersAgain(){\n    fetchCharacters();\n    input.value = '';\n}","btn.addEventListener(('click'), searchCharacters);\nbtnFav.addEventListener(('click'), resetFavs);\nheartFav.addEventListener(('click'), handleClickHeart);\npaintCharact.addEventListener(('click'), renderCharactersAgain);","\n\n"]}